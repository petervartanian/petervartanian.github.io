<!doctype html>
<html lang="{{ site.lang | default: 'en-US' }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    {% seo %}

    <meta name="theme-color" content="#0b0d10">

    <link rel="icon" href="{{ '/favicon.ico' | relative_url }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/img/favicon-32x32.png' | relative_url }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ '/assets/img/favicon-16x16.png' | relative_url }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/img/apple-touch-icon.png' | relative_url }}">
    <link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}">

    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  </head>

  <body class="{% assign p = page.permalink | default: page.url %}{% if p == '/' %}pv-home{% elsif p == '/poiesis' %}pv-poiesis{% elsif p == '/praxis' %}pv-praxis{% elsif p == '/projects' %}pv-projects{% elsif p == '/portfolio' %}pv-portfolio{% elsif p == '/media' %}pv-media{% elsif p == '/cv' %}pv-cv{% elsif p == '/contact' %}pv-contact{% else %}pv-default{% endif %}">
    <a href="#main-content" class="skip-link">skip to content</a>

    <div class="pv-page">
      <header class="pv-header" role="banner">
        <div class="pv-header-inner">
          <div class="pv-header-top">
            <a class="pv-brand" href="{{ '/' | relative_url }}">
              <span class="pv-brand-title">{{ site.title }}</span>
              <span class="pv-brand-sub">{{ site.description }}</span>
              {% if site.location_line %}
              <span class="pv-brand-meta">{{ site.location_line }}</span>
              {% endif %}
            </a>

            <nav class="pv-nav" aria-label="Primary navigation">
              {% assign current = page.permalink | default: page.url %}
              <ul class="pv-nav-list">
                {% for item in site.navigation %}
                  <li class="pv-nav-item">
                    <a class="pv-nav-link{% if item.url == current %} is-active{% endif %}"
                       href="{{ item.url | relative_url }}"
                       {% if item.url == current %}aria-current="page"{% endif %}>
                      {{ item.title }}
                    </a>
                  </li>
                {% endfor %}
              </ul>
            </nav>
          </div>
        </div>
      </header>

      <main class="pv-main" id="main-content" role="main">
        <article class="pv-article">
          <div class="pv-prose">
            {{ content }}
          </div>
        </article>
      </main>

      <footer class="pv-footer" role="contentinfo">
        <div class="pv-footer-inner">
          <span>© {{ site.time | date: '%Y' }} {{ site.title }}</span>

          <span class="pv-footer-sep">·</span>
          <a href="{{ '/feed.xml' | relative_url }}" class="pv-footer-link">rss</a>

          {% if site.linkedin_url %}
          <span class="pv-footer-sep">·</span>
          <a href="{{ site.linkedin_url }}" class="pv-footer-link">linkedin</a>
          {% endif %}

          <span class="pv-footer-sep">·</span>
          <a href="https://github.com/{{ site.github_username }}" class="pv-footer-link">github</a>
        </div>
      </footer>
    </div>

    <script>
      (function () {
        if (!('serviceWorker' in navigator)) return;
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('{{ "/sw.js" | relative_url }}').catch(function () {});
        });
      })();
    </script>
  </body>
</html>
